<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Pet Shop Baronesa</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Cabeçalho -->
    <div id="header"></div>

    <!-- Conteúdo de teste -->
    <main style="padding: 2rem;">
        <h1>Teste de Autenticação - Index</h1>
        <div id="test-info">
            <p>Testando carregamento dos scripts na página inicial...</p>
        </div>
    </main>

    <!-- Rodapé -->
    <div id="footer"></div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

    <!-- Scripts essenciais -->
    <script src="js/firebase-config.js"></script>
    <script src="js/services/auth-service.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
    <script src="js/header-auth.js"></script>
    <script src="js/footer-permissions.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const testInfo = document.getElementById('test-info');
            
            function addLog(message, type = 'info') {
                const log = document.createElement('div');
                log.style.margin = '5px 0';
                log.style.padding = '8px';
                log.style.borderRadius = '4px';
                log.style.backgroundColor = type === 'success' ? '#d4edda' : 
                                           type === 'error' ? '#f8d7da' : '#d1ecf1';
                log.style.color = type === 'success' ? '#155724' : 
                                 type === 'error' ? '#721c24' : '#0c5460';
                log.textContent = message;
                testInfo.appendChild(log);
            }
            
            addLog('DOM carregado');
            
            // Teste Firebase
            setTimeout(() => {
                if (typeof firebase !== 'undefined') {
                    addLog('✅ Firebase carregado', 'success');
                } else {
                    addLog('❌ Firebase não carregado', 'error');
                }
            }, 500);
            
            // Teste Auth Service
            setTimeout(() => {
                if (window.auth) {
                    addLog('✅ Auth service carregado', 'success');
                } else {
                    addLog('❌ Auth service não carregado', 'error');
                }
            }, 1000);
            
            // Teste Header Auth
            setTimeout(() => {
                if (window.headerAuth) {
                    addLog('✅ Header auth carregado', 'success');
                } else {
                    addLog('❌ Header auth não carregado', 'error');
                }
            }, 1500);
            
            // Teste elementos do header
            setTimeout(() => {
                const signupBtn = document.querySelector('.btn-signup');
                const userDropdown = document.querySelector('.user-dropdown');
                
                if (signupBtn) {
                    addLog('✅ Botão de cadastro encontrado', 'success');
                } else {
                    addLog('❌ Botão de cadastro não encontrado', 'error');
                }
                
                addLog(`Dropdowns encontrados: ${document.querySelectorAll('.user-dropdown').length}`);
            }, 2000);
        });
    </script>
</body>
</html>
